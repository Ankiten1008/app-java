// Groovy Scripyt
node{

  stage('GIT Checkout'){
    checkout([$class: 'GitSCM',
                branches: [[name: '*/master' ]],
                extensions: scm.extensions,
                userRemoteConfigs: [[
                    url: 'https://github.com/Ankiten1008/app-java.git',
                    credentialsId: 'gitCredentials'
                ]]
            ])
    }
    
    stage('Build with Maven'){
       def mvnHome = tool name: 'maven-tool', type: 'maven'
      sh "${mvnHome}/bin/mvn package"
      }
    
    stage('Deploy to Tomcat Server'){
    
         sh 'scp -o StrictHostKeyChecking=no target/*.war /opt/apache-tomcat-8.5.51/webapps/'
      }
 }
 
 
  
